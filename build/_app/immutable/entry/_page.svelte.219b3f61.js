import{S as Ve,i as qe,s as Ie,k as a,q as d,a as p,l as s,m as r,r as c,h as t,c as g,n as l,b as je,F as e,u as $,W as Ee,o as xe}from"../chunks/index.86962765.js";import{b as Se}from"../chunks/browser.f1978947.js";import{a as ke}from"../chunks/index.23a336fb.js";function Ce(S){let v,i,o,j,y,k,C,n,f,b,L,u,D=(S[0]??"loading...")+"",x,N,_,P,ee,E,A,te,ae,V,M=(S[1]??"loading...")+"",W,se,R,re,le,q,F,oe,ie,U,G=(S[2]??"loading...")+"",z,ne,I,O,de,ce,T,H=(S[3]??"loading...")+"",B;return{c(){v=a("div"),i=a("div"),o=a("div"),j=a("h2"),y=a("strong"),k=d("AmberDAO Node Digest"),C=p(),n=a("div"),f=a("div"),b=d("Current Stake Value"),L=p(),u=a("div"),x=d(D),N=p(),_=a("span"),P=d("USD"),ee=p(),E=a("div"),A=a("div"),te=d("Voting Power"),ae=p(),V=a("div"),W=d(M),se=p(),R=a("span"),re=d("SCRT"),le=p(),q=a("div"),F=a("div"),oe=d("Delegators"),ie=p(),U=a("div"),z=d(G),ne=p(),I=a("div"),O=a("div"),de=d("Commission"),ce=p(),T=a("div"),B=d(H),this.h()},l(m){v=s(m,"DIV",{class:!0});var w=r(v);i=s(w,"DIV",{id:!0,class:!0});var ve=r(i);o=s(ve,"DIV",{id:!0,class:!0});var h=r(o);j=s(h,"H2",{});var ue=r(j);y=s(ue,"STRONG",{});var me=r(y);k=c(me,"AmberDAO Node Digest"),me.forEach(t),ue.forEach(t),C=g(h),n=s(h,"DIV",{class:!0});var J=r(n);f=s(J,"DIV",{class:!0});var he=r(f);b=c(he,"Current Stake Value"),he.forEach(t),L=g(J),u=s(J,"DIV",{class:!0});var K=r(u);x=c(K,D),N=g(K),_=s(K,"SPAN",{class:!0});var pe=r(_);P=c(pe,"USD"),pe.forEach(t),K.forEach(t),J.forEach(t),ee=g(h),E=s(h,"DIV",{class:!0});var Q=r(E);A=s(Q,"DIV",{class:!0});var ge=r(A);te=c(ge,"Voting Power"),ge.forEach(t),ae=g(Q),V=s(Q,"DIV",{class:!0});var X=r(V);W=c(X,M),se=g(X),R=s(X,"SPAN",{class:!0});var fe=r(R);re=c(fe,"SCRT"),fe.forEach(t),X.forEach(t),Q.forEach(t),le=g(h),q=s(h,"DIV",{class:!0});var Y=r(q);F=s(Y,"DIV",{class:!0});var _e=r(F);oe=c(_e,"Delegators"),_e.forEach(t),ie=g(Y),U=s(Y,"DIV",{class:!0});var we=r(U);z=c(we,G),we.forEach(t),Y.forEach(t),ne=g(h),I=s(h,"DIV",{class:!0});var Z=r(I);O=s(Z,"DIV",{class:!0});var ye=r(O);de=c(ye,"Commission"),ye.forEach(t),ce=g(Z),T=s(Z,"DIV",{class:!0});var De=r(T);B=c(De,H),De.forEach(t),Z.forEach(t),h.forEach(t),ve.forEach(t),w.forEach(t),this.h()},h(){l(f,"class","dark:text-neutral-500 w-40 h-5 svelte-w3qjya"),l(_,"class","text-secondary-700 dark:text-primary-500"),l(u,"class","node-digest-value text-base svelte-w3qjya"),l(n,"class","node-digest-item svelte-w3qjya"),l(A,"class","dark:text-neutral-500 w-40 h-5 svelte-w3qjya"),l(R,"class","text-secondary-700 dark:text-primary-500"),l(V,"class","node-digest-value svelte-w3qjya"),l(E,"class","node-digest-item svelte-w3qjya"),l(F,"class","dark:text-neutral-500 w-40 h-5 svelte-w3qjya"),l(U,"class","node-digest-value svelte-w3qjya"),l(q,"class","node-digest-item svelte-w3qjya"),l(O,"class","dark:text-neutral-500 w-40 h-5 svelte-w3qjya"),l(T,"class","node-digest-value svelte-w3qjya"),l(I,"class","node-digest-item svelte-w3qjya"),l(o,"id","node-digest-container"),l(o,"class","card shadow-xl p-4 svelte-w3qjya"),l(i,"id","node-digest"),l(i,"class","flex flex-col w-full sm:w-auto md:flex-row justify-start space-x-8 space-y-4 md:space-y-0"),l(v,"class","container h-full flex p-4 sm:p-6 items-start justify-center sm:justify-start")},m(m,w){je(m,v,w),e(v,i),e(i,o),e(o,j),e(j,y),e(y,k),e(o,C),e(o,n),e(n,f),e(f,b),e(n,L),e(n,u),e(u,x),e(u,N),e(u,_),e(_,P),e(o,ee),e(o,E),e(E,A),e(A,te),e(E,ae),e(E,V),e(V,W),e(V,se),e(V,R),e(R,re),e(o,le),e(o,q),e(q,F),e(F,oe),e(q,ie),e(q,U),e(U,z),e(o,ne),e(o,I),e(I,O),e(O,de),e(I,ce),e(I,T),e(T,B)},p(m,[w]){w&1&&D!==(D=(m[0]??"loading...")+"")&&$(x,D),w&2&&M!==(M=(m[1]??"loading...")+"")&&$(W,M),w&4&&G!==(G=(m[2]??"loading...")+"")&&$(z,G),w&8&&H!==(H=(m[3]??"loading...")+"")&&$(B,H)},i:Ee,o:Ee,d(m){m&&t(v)}}}function be(S,v,i){const o=new Se.SecretNetworkClient({url:"https://lcd.secret.express",chainId:"secret-4"}),j=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0});let y,k,C,n;return xe(async()=>{var D,x,N,_,P;const f=await o.query.staking.validator({validator_addr:"secretvaloper18w7rm926ue3nmy8ay58e3lc2nqnttrlhhgpch6"});i(3,n=(parseFloat(((N=(x=(D=f.validator)==null?void 0:D.commission)==null?void 0:x.commission_rates)==null?void 0:N.rate)??"0.03")*100).toString()+"%");const b=Math.round(parseInt(((_=f.validator)==null?void 0:_.tokens)??"500000")/1e6);i(1,k=b.toLocaleString());const L=await ke.get("https://api.coingecko.com/api/v3/simple/price?ids=secret&vs_currencies=usd");i(0,y=j.format(b*L.data.secret.usd));const u=await o.query.staking.validatorDelegations({validator_addr:"secretvaloper18w7rm926ue3nmy8ay58e3lc2nqnttrlhhgpch6",pagination:{limit:"1",count_total:!0}});i(2,C=parseInt(((P=u.pagination)==null?void 0:P.total)??"1925").toLocaleString())}),[y,k,C,n]}class Re extends Ve{constructor(v){super(),qe(this,v,be,Ce,Ie,{})}}export{Re as default};
