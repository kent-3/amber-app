import{S as Ve,i as qe,s as je,k as s,q as d,a as g,l as a,m as l,r as c,h as t,c as m,n as r,b as Se,F as e,u as ee,W as Ie,o as we}from"../chunks/index.2714c59a.js";import{b as ke}from"../chunks/browser.ba54d07b.js";import{a as xe}from"../chunks/index.23cec2d8.js";function Ce(x){let v,i,o,S,D,C,b,n,y,w,L,u,E=(x[0]??"loading...")+"",k,N,h,P,A,I,R,te,se,V,G=(x[1]??"loading...")+"",z,ae,F,le,re,q,U,oe,ie,M,H=(x[2]??"loading...")+"",B,ne,j,O,de,ce,T,W=(x[3]??"loading...")+"",J;return{c(){v=s("div"),i=s("div"),o=s("div"),S=s("h2"),D=s("strong"),C=d("AmberDAO Node Digest"),b=g(),n=s("div"),y=s("div"),w=d("Current Stake Value"),L=g(),u=s("div"),k=d(E),N=g(),h=s("span"),P=d("USD"),A=g(),I=s("div"),R=s("div"),te=d("Voting Power"),se=g(),V=s("div"),z=d(G),ae=g(),F=s("span"),le=d("SCRT"),re=g(),q=s("div"),U=s("div"),oe=d("Delegators"),ie=g(),M=s("div"),B=d(H),ne=g(),j=s("div"),O=s("div"),de=d("Commission"),ce=g(),T=s("div"),J=d(W),this.h()},l(p){v=a(p,"DIV",{class:!0});var _=l(v);i=a(_,"DIV",{id:!0,class:!0});var ve=l(i);o=a(ve,"DIV",{id:!0,class:!0});var f=l(o);S=a(f,"H2",{});var ue=l(S);D=a(ue,"STRONG",{});var pe=l(D);C=c(pe,"AmberDAO Node Digest"),pe.forEach(t),ue.forEach(t),b=m(f),n=a(f,"DIV",{class:!0});var K=l(n);y=a(K,"DIV",{class:!0});var fe=l(y);w=c(fe,"Current Stake Value"),fe.forEach(t),L=m(K),u=a(K,"DIV",{class:!0});var Q=l(u);k=c(Q,E),N=m(Q),h=a(Q,"SPAN",{class:!0});var ge=l(h);P=c(ge,"USD"),ge.forEach(t),Q.forEach(t),K.forEach(t),A=m(f),I=a(f,"DIV",{class:!0});var X=l(I);R=a(X,"DIV",{class:!0});var me=l(R);te=c(me,"Voting Power"),me.forEach(t),se=m(X),V=a(X,"DIV",{class:!0});var Y=l(V);z=c(Y,G),ae=m(Y),F=a(Y,"SPAN",{class:!0});var he=l(F);le=c(he,"SCRT"),he.forEach(t),Y.forEach(t),X.forEach(t),re=m(f),q=a(f,"DIV",{class:!0});var Z=l(q);U=a(Z,"DIV",{class:!0});var _e=l(U);oe=c(_e,"Delegators"),_e.forEach(t),ie=m(Z),M=a(Z,"DIV",{class:!0});var De=l(M);B=c(De,H),De.forEach(t),Z.forEach(t),ne=m(f),j=a(f,"DIV",{class:!0});var $=l(j);O=a($,"DIV",{class:!0});var ye=l(O);de=c(ye,"Commission"),ye.forEach(t),ce=m($),T=a($,"DIV",{class:!0});var Ee=l(T);J=c(Ee,W),Ee.forEach(t),$.forEach(t),f.forEach(t),ve.forEach(t),_.forEach(t),this.h()},h(){r(y,"class","node-digest-key svelte-e6qfpj"),r(h,"class","text-primary-500"),r(u,"class","node-digest-value text-base svelte-e6qfpj"),r(n,"class","node-digest-item svelte-e6qfpj"),r(R,"class","node-digest-key svelte-e6qfpj"),r(F,"class","text-primary-500"),r(V,"class","node-digest-value svelte-e6qfpj"),r(I,"class","node-digest-item svelte-e6qfpj"),r(U,"class","node-digest-key svelte-e6qfpj"),r(M,"class","node-digest-value svelte-e6qfpj"),r(q,"class","node-digest-item svelte-e6qfpj"),r(O,"class","node-digest-key svelte-e6qfpj"),r(T,"class","node-digest-value svelte-e6qfpj"),r(j,"class","node-digest-item svelte-e6qfpj"),r(o,"id","node-digest-container"),r(o,"class","card variant-glass-surface p-4 svelte-e6qfpj"),r(i,"id","node-digest"),r(i,"class","flex flex-col w-full sm:w-auto md:flex-row justify-start space-x-8 space-y-4 md:space-y-0"),r(v,"class","container h-full flex p-4 sm:justify-start justify-center items-start")},m(p,_){Se(p,v,_),e(v,i),e(i,o),e(o,S),e(S,D),e(D,C),e(o,b),e(o,n),e(n,y),e(y,w),e(n,L),e(n,u),e(u,k),e(u,N),e(u,h),e(h,P),e(o,A),e(o,I),e(I,R),e(R,te),e(I,se),e(I,V),e(V,z),e(V,ae),e(V,F),e(F,le),e(o,re),e(o,q),e(q,U),e(U,oe),e(q,ie),e(q,M),e(M,B),e(o,ne),e(o,j),e(j,O),e(O,de),e(j,ce),e(j,T),e(T,J)},p(p,[_]){_&1&&E!==(E=(p[0]??"loading...")+"")&&ee(k,E),_&2&&G!==(G=(p[1]??"loading...")+"")&&ee(z,G),_&4&&H!==(H=(p[2]??"loading...")+"")&&ee(B,H),_&8&&W!==(W=(p[3]??"loading...")+"")&&ee(J,W)},i:Ie,o:Ie,d(p){p&&t(v)}}}function be(x,v,i){const o=new ke.SecretNetworkClient({url:"https://lcd.secret.express",chainId:"secret-4"}),S=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0});let D,C,b,n;return we(async()=>{var E,k,N,h,P,A;const y=await xe.get("https://api.coingecko.com/api/v3/simple/price?ids=secret&vs_currencies=usd"),w=await o.query.staking.validator({validator_addr:"secretvaloper18w7rm926ue3nmy8ay58e3lc2nqnttrlhhgpch6"}),L=await o.query.staking.validatorDelegations({validator_addr:"secretvaloper18w7rm926ue3nmy8ay58e3lc2nqnttrlhhgpch6",pagination:{limit:"1",count_total:!0}}),u=Math.round(parseInt(((E=w.validator)==null?void 0:E.tokens)??"0")/1e6);i(0,D=S.format(u*y.data.secret.usd)),i(1,C=Math.round(parseInt(((k=w.validator)==null?void 0:k.tokens)??"0")/1e6).toLocaleString()),i(2,b=parseInt(((N=L.pagination)==null?void 0:N.total)??"0").toLocaleString()),i(3,n=(parseFloat(((A=(P=(h=w.validator)==null?void 0:h.commission)==null?void 0:P.commission_rates)==null?void 0:A.rate)??"0.03")*100).toString()+"%")}),[D,C,b,n]}class Re extends Ve{constructor(v){super(),qe(this,v,be,Ce,je,{})}}export{Re as default};
