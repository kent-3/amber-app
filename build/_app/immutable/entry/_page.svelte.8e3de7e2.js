import{S as Ve,i as qe,s as Ie,k as a,q as n,a as p,l as s,m as l,r as c,h as t,c as g,n as r,b as je,F as e,u as $,W as Ee,o as xe}from"../chunks/index.86962765.js";import{b as Se}from"../chunks/browser.f1978947.js";import{a as ke}from"../chunks/index.23a336fb.js";function be(S){let v,i,o,j,y,k,b,d,f,C,L,u,D=(S[0]??"loading...")+"",x,N,_,P,ee,E,A,te,ae,V,M=(S[1]??"loading...")+"",W,se,R,le,re,q,F,oe,ie,U,G=(S[2]??"loading...")+"",z,de,I,O,ne,ce,T,H=(S[3]??"loading...")+"",B;return{c(){v=a("div"),i=a("div"),o=a("div"),j=a("h2"),y=a("strong"),k=n("AmberDAO Node Digest"),b=p(),d=a("div"),f=a("div"),C=n("Current Stake Value"),L=p(),u=a("div"),x=n(D),N=p(),_=a("span"),P=n("USD"),ee=p(),E=a("div"),A=a("div"),te=n("Voting Power"),ae=p(),V=a("div"),W=n(M),se=p(),R=a("span"),le=n("SCRT"),re=p(),q=a("div"),F=a("div"),oe=n("Delegators"),ie=p(),U=a("div"),z=n(G),de=p(),I=a("div"),O=a("div"),ne=n("Commission"),ce=p(),T=a("div"),B=n(H),this.h()},l(m){v=s(m,"DIV",{class:!0});var w=l(v);i=s(w,"DIV",{id:!0,class:!0});var ve=l(i);o=s(ve,"DIV",{id:!0,class:!0});var h=l(o);j=s(h,"H2",{});var ue=l(j);y=s(ue,"STRONG",{});var me=l(y);k=c(me,"AmberDAO Node Digest"),me.forEach(t),ue.forEach(t),b=g(h),d=s(h,"DIV",{class:!0});var J=l(d);f=s(J,"DIV",{class:!0});var he=l(f);C=c(he,"Current Stake Value"),he.forEach(t),L=g(J),u=s(J,"DIV",{class:!0});var K=l(u);x=c(K,D),N=g(K),_=s(K,"SPAN",{class:!0});var pe=l(_);P=c(pe,"USD"),pe.forEach(t),K.forEach(t),J.forEach(t),ee=g(h),E=s(h,"DIV",{class:!0});var Q=l(E);A=s(Q,"DIV",{class:!0});var ge=l(A);te=c(ge,"Voting Power"),ge.forEach(t),ae=g(Q),V=s(Q,"DIV",{class:!0});var X=l(V);W=c(X,M),se=g(X),R=s(X,"SPAN",{class:!0});var fe=l(R);le=c(fe,"SCRT"),fe.forEach(t),X.forEach(t),Q.forEach(t),re=g(h),q=s(h,"DIV",{class:!0});var Y=l(q);F=s(Y,"DIV",{class:!0});var _e=l(F);oe=c(_e,"Delegators"),_e.forEach(t),ie=g(Y),U=s(Y,"DIV",{class:!0});var we=l(U);z=c(we,G),we.forEach(t),Y.forEach(t),de=g(h),I=s(h,"DIV",{class:!0});var Z=l(I);O=s(Z,"DIV",{class:!0});var ye=l(O);ne=c(ye,"Commission"),ye.forEach(t),ce=g(Z),T=s(Z,"DIV",{class:!0});var De=l(T);B=c(De,H),De.forEach(t),Z.forEach(t),h.forEach(t),ve.forEach(t),w.forEach(t),this.h()},h(){r(f,"class","dark:text-neutral-400 w-40 h-5 svelte-w3qjya"),r(_,"class","font-bold text-secondary-700 dark:text-primary-500"),r(u,"class","node-digest-value text-base svelte-w3qjya"),r(d,"class","node-digest-item svelte-w3qjya"),r(A,"class","dark:text-neutral-400 w-40 h-5 svelte-w3qjya"),r(R,"class","font-bold text-secondary-700 dark:text-primary-500"),r(V,"class","node-digest-value svelte-w3qjya"),r(E,"class","node-digest-item svelte-w3qjya"),r(F,"class","dark:text-neutral-400 w-40 h-5 svelte-w3qjya"),r(U,"class","node-digest-value svelte-w3qjya"),r(q,"class","node-digest-item svelte-w3qjya"),r(O,"class","dark:text-neutral-400 w-40 h-5 svelte-w3qjya"),r(T,"class","node-digest-value svelte-w3qjya"),r(I,"class","node-digest-item svelte-w3qjya"),r(o,"id","node-digest-container"),r(o,"class","card sm:w-96 dark:!bg-[#28292a] shadow-xl p-4 svelte-w3qjya"),r(i,"id","node-digest"),r(i,"class","flex flex-col w-full sm:w-auto md:flex-row justify-start space-x-8 space-y-4 md:space-y-0"),r(v,"class","container h-full flex p-4 sm:p-6 items-start justify-center sm:justify-start")},m(m,w){je(m,v,w),e(v,i),e(i,o),e(o,j),e(j,y),e(y,k),e(o,b),e(o,d),e(d,f),e(f,C),e(d,L),e(d,u),e(u,x),e(u,N),e(u,_),e(_,P),e(o,ee),e(o,E),e(E,A),e(A,te),e(E,ae),e(E,V),e(V,W),e(V,se),e(V,R),e(R,le),e(o,re),e(o,q),e(q,F),e(F,oe),e(q,ie),e(q,U),e(U,z),e(o,de),e(o,I),e(I,O),e(O,ne),e(I,ce),e(I,T),e(T,B)},p(m,[w]){w&1&&D!==(D=(m[0]??"loading...")+"")&&$(x,D),w&2&&M!==(M=(m[1]??"loading...")+"")&&$(W,M),w&4&&G!==(G=(m[2]??"loading...")+"")&&$(z,G),w&8&&H!==(H=(m[3]??"loading...")+"")&&$(B,H)},i:Ee,o:Ee,d(m){m&&t(v)}}}function Ce(S,v,i){const o=new Se.SecretNetworkClient({url:"https://lcd.secret.express",chainId:"secret-4"}),j=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0});let y,k,b,d;return xe(async()=>{var D,x,N,_,P;const f=await o.query.staking.validator({validator_addr:"secretvaloper18w7rm926ue3nmy8ay58e3lc2nqnttrlhhgpch6"});i(3,d=(parseFloat(((N=(x=(D=f.validator)==null?void 0:D.commission)==null?void 0:x.commission_rates)==null?void 0:N.rate)??"0.03")*100).toString()+"%");const C=Math.round(parseInt(((_=f.validator)==null?void 0:_.tokens)??"500000")/1e6);i(1,k=C.toLocaleString());const L=await ke.get("https://api.coingecko.com/api/v3/simple/price?ids=secret&vs_currencies=usd");i(0,y=j.format(C*L.data.secret.usd));const u=await o.query.staking.validatorDelegations({validator_addr:"secretvaloper18w7rm926ue3nmy8ay58e3lc2nqnttrlhhgpch6",pagination:{limit:"1",count_total:!0}});i(2,b=parseInt(((P=u.pagination)==null?void 0:P.total)??"1925").toLocaleString())}),[y,k,b,d]}class Re extends Ve{constructor(v){super(),qe(this,v,Ce,be,Ie,{})}}export{Re as default};
