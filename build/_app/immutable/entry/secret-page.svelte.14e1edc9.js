import{S as Y,i as Z,s as x,e as U,b as w,W as K,h as p,$ as M,Q as tt,K as Q,L as W,k as S,q as L,a as A,l as O,m as T,r as q,c as F,n as E,F as f,N as H,a0 as et,u as R,_ as at,O as $,a6 as ot,a7 as nt,y as st,z as lt,A as rt,g as ct,d as it,B as ut,o as dt}from"../chunks/index.86962765.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.3abe5e1b.js";import{s as ft,A as P}from"../chunks/contracts.d6840322.js";import{c as mt}from"../chunks/clipboard.408a5421.js";import{e as ht,b as bt}from"../chunks/stores.2a7a0fd6.js";import{b as gt}from"../chunks/browser.f1978947.js";function G(n){let e,t,a,s=X(n[0])+"",v,m,u,y=(n[7]?n[4]:n[3])+"",h,N,B,_,C,l,b,r,c,g;function i(d,k){return d[5]?kt:_t}let I=i(n),o=I(n);return{c(){e=S("div"),t=S("header"),a=S("span"),v=L(s),m=A(),u=S("button"),h=L(y),_=A(),C=S("pre"),l=S("code"),o.c(),this.h()},l(d){e=O(d,"DIV",{class:!0,"data-testid":!0});var k=T(e);t=O(k,"HEADER",{class:!0});var D=T(t);a=O(D,"SPAN",{class:!0});var J=T(a);v=q(J,s),J.forEach(p),m=F(D),u=O(D,"BUTTON",{class:!0});var j=T(u);h=q(j,y),j.forEach(p),D.forEach(p),_=F(k),C=O(k,"PRE",{class:!0});var V=T(C);l=O(V,"CODE",{class:!0});var z=T(l);o.l(z),z.forEach(p),V.forEach(p),k.forEach(p),this.h()},h(){E(a,"class","code-block-language"),E(u,"class",N="code-block-btn "+n[2]),E(t,"class","code-block-header "+pt),E(l,"class",b="code-block-code language-"+n[0]),E(C,"class","code-block-pre "+vt),E(e,"class",r="code-block "+n[8]),E(e,"data-testid","code-block")},m(d,k){w(d,e,k),f(e,t),f(t,a),f(a,v),f(t,m),f(t,u),f(u,h),f(e,_),f(e,C),f(C,l),o.m(l,null),c||(g=[H(u,"click",n[9]),et(B=mt.call(null,u,n[1]))],c=!0)},p(d,k){k&1&&s!==(s=X(d[0])+"")&&R(v,s),k&152&&y!==(y=(d[7]?d[4]:d[3])+"")&&R(h,y),k&4&&N!==(N="code-block-btn "+d[2])&&E(u,"class",N),B&&at(B.update)&&k&2&&B.update.call(null,d[1]),I===(I=i(d))&&o?o.p(d,k):(o.d(1),o=I(d),o&&(o.c(),o.m(l,null))),k&1&&b!==(b="code-block-code language-"+d[0])&&E(l,"class",b),k&256&&r!==(r="code-block "+d[8])&&E(e,"class",r)},d(d){d&&p(e),o.d(),c=!1,$(g)}}}function _t(n){let e=n[1].trim()+"",t;return{c(){t=L(e)},l(a){t=q(a,e)},m(a,s){w(a,t,s)},p(a,s){s&2&&e!==(e=a[1].trim()+"")&&R(t,e)},d(a){a&&p(t)}}}function kt(n){let e,t;return{c(){e=new ot(!1),t=U(),this.h()},l(a){e=nt(a,!1),t=U(),this.h()},h(){e.a=t},m(a,s){e.m(n[6],a,s),w(a,t,s)},p(a,s){s&64&&e.p(a[6])},d(a){a&&p(t),a&&e.d()}}}function yt(n){let e,t=n[0]&&n[1]&&G(n);return{c(){t&&t.c(),e=U()},l(a){t&&t.l(a),e=U()},m(a,s){t&&t.m(a,s),w(a,e,s)},p(a,[s]){a[0]&&a[1]?t?t.p(a,s):(t=G(a),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:K,o:K,d(a){t&&t.d(a),a&&p(e)}}}const Ct="overflow-hidden shadow",pt="text-xs text-white/50 uppercase flex justify-between items-center p-2 pl-4",vt="whitespace-pre-wrap break-all p-4 pt-1";function X(n){return n==="js"?"javascript":n==="ts"?"typescript":n}function Et(n,e,t){let a,s;M(n,ft,o=>t(16,s=o));const v=tt();let{language:m="plaintext"}=e,{code:u=""}=e,{background:y="bg-neutral-900/90"}=e,{blur:h=""}=e,{text:N="text-sm"}=e,{color:B="text-white"}=e,{rounded:_="rounded-container-token"}=e,{shadow:C="shadow"}=e,{button:l="btn btn-sm variant-soft !text-white"}=e,{buttonLabel:b="Copy"}=e,{buttonCopied:r="👍"}=e,c=!1,g=u,i=!1;function I(){t(7,i=!0),setTimeout(()=>{t(7,i=!1)},2e3),v("copy",{})}return n.$$set=o=>{t(18,e=Q(Q({},e),W(o))),"language"in o&&t(0,m=o.language),"code"in o&&t(1,u=o.code),"background"in o&&t(10,y=o.background),"blur"in o&&t(11,h=o.blur),"text"in o&&t(12,N=o.text),"color"in o&&t(13,B=o.color),"rounded"in o&&t(14,_=o.rounded),"shadow"in o&&t(15,C=o.shadow),"button"in o&&t(2,l=o.button),"buttonLabel"in o&&t(3,b=o.buttonLabel),"buttonCopied"in o&&t(4,r=o.buttonCopied)},n.$$.update=()=>{n.$$.dirty&65539&&s!==void 0&&(t(6,g=s.highlight(u,{language:m}).value.trim()),t(5,c=!0)),t(8,a=`${Ct} ${y} ${h} ${N} ${B} ${_} ${C} ${e.class??""}`)},e=W(e),[m,u,l,b,r,c,g,i,a,I,y,h,N,B,_,C,s]}class Nt extends Y{constructor(e){super(),Z(this,e,Et,yt,x,{language:0,code:1,background:10,blur:11,text:12,color:13,rounded:14,shadow:15,button:2,buttonLabel:3,buttonCopied:4})}}function Bt(n){let e,t,a,s,v,m,u,y,h,N,B,_,C,l,b;return _=new Nt({props:{language:"json",code:n[0]}}),{c(){e=S("div"),t=S("div"),a=S("button"),s=L("Latest Block Info"),v=A(),m=S("button"),u=L("Community Pool Funds"),y=A(),h=S("button"),N=L("Amber Contract Info"),B=A(),st(_.$$.fragment),this.h()},l(r){e=O(r,"DIV",{class:!0});var c=T(e);t=O(c,"DIV",{class:!0});var g=T(t);a=O(g,"BUTTON",{class:!0});var i=T(a);s=q(i,"Latest Block Info"),i.forEach(p),v=F(g),m=O(g,"BUTTON",{class:!0});var I=T(m);u=q(I,"Community Pool Funds"),I.forEach(p),y=F(g),h=O(g,"BUTTON",{class:!0});var o=T(h);N=q(o,"Amber Contract Info"),o.forEach(p),g.forEach(p),B=F(c),lt(_.$$.fragment,c),c.forEach(p),this.h()},h(){E(a,"class","btn hover:bg-secondary-100-800-token dark:bg-[#28292a] material-color-transition"),E(m,"class","btn hover:bg-secondary-100-800-token dark:bg-[#28292a] transition-colors duration-300 ease-material-color"),E(h,"class","btn hover:bg-secondary-100-800-token dark:bg-[#28292a] transition-colors duration-300 ease-material-color"),E(t,"class","card dark:bg-surface-900 flex flex-col p-4 space-y-2 text-left"),E(e,"class","container h-full flex flex-col sm:flex-row gap-4 p-4 sm:p-6 sm:items-start")},m(r,c){w(r,e,c),f(e,t),f(t,a),f(a,s),f(t,v),f(t,m),f(m,u),f(t,y),f(t,h),f(h,N),f(e,B),rt(_,e,null),C=!0,l||(b=[H(a,"click",n[4]),H(m,"click",n[5]),H(h,"click",n[6])],l=!0)},p(r,[c]){const g={};c&1&&(g.code=r[0]),_.$set(g)},i(r){C||(ct(_.$$.fragment,r),C=!0)},o(r){it(_.$$.fragment,r),C=!1},d(r){r&&p(e),ut(_),l=!1,$(b)}}}function It(n,e,t){let a,s;M(n,ht,l=>t(7,a=l)),M(n,bt,l=>t(8,s=l));let v;async function m(){const l=await s.query.distribution.communityPool({});t(0,v=JSON.stringify(l.pool,null,2))}async function u(){var l,b,r;try{const c=await s.query.tendermint.getLatestBlock({});console.log((b=(l=c.block)==null?void 0:l.header)==null?void 0:b.time),t(0,v=JSON.stringify((r=c.block)==null?void 0:r.header,null,2))}catch(c){console.error(c)}}async function y(){const l=await s.query.compute.contractInfo({contract_address:P.address}),b=await s.query.snip20.getSnip20Params({contract:{address:P.address,code_hash:P.code_hash}}),r=await s.query.snip20.queryContract({contract_address:P.address,code_hash:P.code_hash,query:{token_config:{}}});t(0,v=JSON.stringify(l,null,2)+`,
`+JSON.stringify(b,null,2)+`,
`+JSON.stringify(r,null,2))}const h=new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:6}).format,N=async(l,b)=>{var r,c,g;try{const{block:i}=await l.query.tendermint.getLatestBlock({});let I;try{({minimum_gas_price:I}=await l.query.node.config({}))}catch{}const o=(r=i==null?void 0:i.header)==null?void 0:r.chain_id,d=h(Number((c=i==null?void 0:i.header)==null?void 0:c.height));console.log(d);let k;I&&(k=I.replace(/0*([a-z]+)$/,"$1"));const D=Math.floor((Date.now()-Date.parse((g=i==null?void 0:i.header)==null?void 0:g.time))/1e3);let J=`${D}s ago`;D<=0&&(J="now")}catch(i){i instanceof Error?i.message:JSON.stringify(i)}};return dt(()=>{const l=setInterval(()=>{const b=new gt.SecretNetworkClient({url:a,chainId:""});N(b)},1e4);return()=>clearInterval(l)}),[v,m,u,y,()=>u(),()=>m(),()=>y()]}class Pt extends Y{constructor(e){super(),Z(this,e,It,Bt,x,{})}}export{Pt as default};
