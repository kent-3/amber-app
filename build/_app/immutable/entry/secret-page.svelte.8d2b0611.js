import{S as Z,i as x,s as $,e as R,b as M,W as Q,h as _,$ as V,Q as et,K as W,L as G,k as I,q as A,a as F,l as T,m as J,r as D,c as U,n as y,F as i,N as H,a0 as at,u as z,_ as ot,O as tt,a6 as nt,a7 as st,y as lt,z as ct,A as rt,g as it,d as ut,B as dt,o as ft}from"../chunks/index.86962765.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.3abe5e1b.js";import{s as mt,A as j}from"../chunks/contracts.d6840322.js";import{c as bt}from"../chunks/clipboard.408a5421.js";import{e as ht,b as gt}from"../chunks/stores.2a7a0fd6.js";import{b as _t}from"../chunks/browser.f1978947.js";function X(n){let e,t,o,s=Y(n[0])+"",k,b,d,p=(n[7]?n[4]:n[3])+"",h,B,O,N,v,C,E,c,g,u;function m(l,r){return l[5]?yt:kt}let S=m(n),a=S(n);return{c(){e=I("div"),t=I("header"),o=I("span"),k=A(s),b=F(),d=I("button"),h=A(p),N=F(),v=I("pre"),C=I("code"),a.c(),this.h()},l(l){e=T(l,"DIV",{class:!0,"data-testid":!0});var r=J(e);t=T(r,"HEADER",{class:!0});var f=J(t);o=T(f,"SPAN",{class:!0});var L=J(o);k=D(L,s),L.forEach(_),b=U(f),d=T(f,"BUTTON",{class:!0});var P=J(d);h=D(P,p),P.forEach(_),f.forEach(_),N=U(r),v=T(r,"PRE",{class:!0});var q=J(v);C=T(q,"CODE",{class:!0});var w=J(C);a.l(w),w.forEach(_),q.forEach(_),r.forEach(_),this.h()},h(){y(o,"class","code-block-language"),y(d,"class",B="code-block-btn "+n[2]),y(t,"class","code-block-header "+Ct),y(C,"class",E="code-block-code language-"+n[0]),y(v,"class","code-block-pre "+Et),y(e,"class",c="code-block "+n[8]),y(e,"data-testid","code-block")},m(l,r){M(l,e,r),i(e,t),i(t,o),i(o,k),i(t,b),i(t,d),i(d,h),i(e,N),i(e,v),i(v,C),a.m(C,null),g||(u=[H(d,"click",n[9]),at(O=bt.call(null,d,n[1]))],g=!0)},p(l,r){r&1&&s!==(s=Y(l[0])+"")&&z(k,s),r&152&&p!==(p=(l[7]?l[4]:l[3])+"")&&z(h,p),r&4&&B!==(B="code-block-btn "+l[2])&&y(d,"class",B),O&&ot(O.update)&&r&2&&O.update.call(null,l[1]),S===(S=m(l))&&a?a.p(l,r):(a.d(1),a=S(l),a&&(a.c(),a.m(C,null))),r&1&&E!==(E="code-block-code language-"+l[0])&&y(C,"class",E),r&256&&c!==(c="code-block "+l[8])&&y(e,"class",c)},d(l){l&&_(e),a.d(),g=!1,tt(u)}}}function kt(n){let e=n[1].trim()+"",t;return{c(){t=A(e)},l(o){t=D(o,e)},m(o,s){M(o,t,s)},p(o,s){s&2&&e!==(e=o[1].trim()+"")&&z(t,e)},d(o){o&&_(t)}}}function yt(n){let e,t;return{c(){e=new nt(!1),t=R(),this.h()},l(o){e=st(o,!1),t=R(),this.h()},h(){e.a=t},m(o,s){e.m(n[6],o,s),M(o,t,s)},p(o,s){s&64&&e.p(o[6])},d(o){o&&_(t),o&&e.d()}}}function pt(n){let e,t=n[0]&&n[1]&&X(n);return{c(){t&&t.c(),e=R()},l(o){t&&t.l(o),e=R()},m(o,s){t&&t.m(o,s),M(o,e,s)},p(o,[s]){o[0]&&o[1]?t?t.p(o,s):(t=X(o),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Q,o:Q,d(o){t&&t.d(o),o&&_(e)}}}const Nt="overflow-hidden shadow",Ct="text-xs text-white/50 uppercase flex justify-between items-center p-2 pl-4",Et="whitespace-pre-wrap break-all p-4 pt-1";function Y(n){return n==="js"?"javascript":n==="ts"?"typescript":n}function vt(n,e,t){let o,s;V(n,mt,a=>t(16,s=a));const k=et();let{language:b="plaintext"}=e,{code:d=""}=e,{background:p="bg-neutral-900/90"}=e,{blur:h=""}=e,{text:B="text-sm"}=e,{color:O="text-white"}=e,{rounded:N="rounded-container-token"}=e,{shadow:v="shadow"}=e,{button:C="btn btn-sm variant-soft !text-white"}=e,{buttonLabel:E="Copy"}=e,{buttonCopied:c="👍"}=e,g=!1,u=d,m=!1;function S(){t(7,m=!0),setTimeout(()=>{t(7,m=!1)},2e3),k("copy",{})}return n.$$set=a=>{t(18,e=W(W({},e),G(a))),"language"in a&&t(0,b=a.language),"code"in a&&t(1,d=a.code),"background"in a&&t(10,p=a.background),"blur"in a&&t(11,h=a.blur),"text"in a&&t(12,B=a.text),"color"in a&&t(13,O=a.color),"rounded"in a&&t(14,N=a.rounded),"shadow"in a&&t(15,v=a.shadow),"button"in a&&t(2,C=a.button),"buttonLabel"in a&&t(3,E=a.buttonLabel),"buttonCopied"in a&&t(4,c=a.buttonCopied)},n.$$.update=()=>{n.$$.dirty&65539&&s!==void 0&&(t(6,u=s.highlight(d,{language:b}).value.trim()),t(5,g=!0)),t(8,o=`${Nt} ${p} ${h} ${B} ${O} ${N} ${v} ${e.class??""}`)},e=G(e),[b,d,C,E,c,g,u,m,o,S,p,h,B,O,N,v,s]}class Bt extends Z{constructor(e){super(),x(this,e,vt,pt,$,{language:0,code:1,background:10,blur:11,text:12,color:13,rounded:14,shadow:15,button:2,buttonLabel:3,buttonCopied:4})}}function Ot(n){let e,t,o,s,k,b,d,p,h,B,O,N,v,C,E,c,g,u,m,S,a;return u=new Bt({props:{background:"bg-surface-900",language:"json",code:n[0]}}),{c(){e=I("div"),t=I("div"),o=I("button"),s=A("Latest Block Info"),k=F(),b=I("button"),d=A("Community Pool Funds"),p=F(),h=I("button"),B=A("Amber Contract Info"),O=F(),N=I("button"),v=A("Active Proposals"),C=F(),E=I("button"),c=A("Bonding Info"),g=F(),lt(u.$$.fragment),this.h()},l(l){e=T(l,"DIV",{class:!0});var r=J(e);t=T(r,"DIV",{class:!0});var f=J(t);o=T(f,"BUTTON",{class:!0});var L=J(o);s=D(L,"Latest Block Info"),L.forEach(_),k=U(f),b=T(f,"BUTTON",{class:!0});var P=J(b);d=D(P,"Community Pool Funds"),P.forEach(_),p=U(f),h=T(f,"BUTTON",{class:!0});var q=J(h);B=D(q,"Amber Contract Info"),q.forEach(_),O=U(f),N=T(f,"BUTTON",{class:!0});var w=J(N);v=D(w,"Active Proposals"),w.forEach(_),C=U(f),E=T(f,"BUTTON",{class:!0});var K=J(E);c=D(K,"Bonding Info"),K.forEach(_),f.forEach(_),g=U(r),ct(u.$$.fragment,r),r.forEach(_),this.h()},h(){y(o,"class","btn bg-secondary-300 dark:bg-secondary-800 material-color-transition"),y(b,"class","btn bg-secondary-300 dark:bg-secondary-800 material-color-transition"),y(h,"class","btn bg-secondary-300 dark:bg-secondary-800 material-color-transition"),y(N,"class","btn bg-secondary-300 dark:bg-secondary-800 material-color-transition"),y(E,"class","btn bg-secondary-300 dark:bg-secondary-800 material-color-transition"),y(t,"class","card bg-surface-50 dark:!bg-[#28292a] flex flex-col p-4 space-y-2 text-left"),y(e,"class","container h-full flex flex-col sm:flex-row gap-4 px-2 py-4 sm:p-6 sm:items-start")},m(l,r){M(l,e,r),i(e,t),i(t,o),i(o,s),i(t,k),i(t,b),i(b,d),i(t,p),i(t,h),i(h,B),i(t,O),i(t,N),i(N,v),i(t,C),i(t,E),i(E,c),i(e,g),rt(u,e,null),m=!0,S||(a=[H(o,"click",n[4]),H(b,"click",n[5]),H(h,"click",n[6]),H(N,"click",n[7]),H(E,"click",n[8])],S=!0)},p(l,[r]){const f={};r&1&&(f.code=l[0]),u.$set(f)},i(l){m||(it(u.$$.fragment,l),m=!0)},o(l){ut(u.$$.fragment,l),m=!1},d(l){l&&_(e),dt(u),S=!1,tt(a)}}}function St(n,e,t){let o,s;V(n,ht,c=>t(9,o=c)),V(n,gt,c=>t(10,s=c));let k;async function b(){const c=await s.query.distribution.communityPool({});t(0,k=JSON.stringify(c.pool,null,2))}async function d(){var c,g,u;try{const m=await s.query.tendermint.getLatestBlock({});console.log((g=(c=m.block)==null?void 0:c.header)==null?void 0:g.time),t(0,k=JSON.stringify((u=m.block)==null?void 0:u.header,null,2))}catch(m){console.error(m)}}async function p(){const c=await s.query.compute.contractInfo({contract_address:j.address}),g=await s.query.snip20.getSnip20Params({contract:{address:j.address,code_hash:j.code_hash}}),u=await s.query.snip20.queryContract({contract_address:j.address,code_hash:j.code_hash,query:{token_config:{}}});t(0,k=JSON.stringify(c,null,2)+`,
`+JSON.stringify(g,null,2)+`,
`+JSON.stringify(u,null,2))}const h=new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:6}).format,B=async(c,g)=>{var u,m,S;try{const{block:a}=await c.query.tendermint.getLatestBlock({});let l;try{({minimum_gas_price:l}=await c.query.node.config({}))}catch{}const r=(u=a==null?void 0:a.header)==null?void 0:u.chain_id,f=h(Number((m=a==null?void 0:a.header)==null?void 0:m.height));console.log(f);let L;l&&(L=l.replace(/0*([a-z]+)$/,"$1"));const P=Math.floor((Date.now()-Date.parse((S=a==null?void 0:a.header)==null?void 0:S.time))/1e3);let q=`${P}s ago`;P<=0&&(q="now")}catch(a){a instanceof Error?a.message:JSON.stringify(a)}};return ft(()=>{const c=setInterval(()=>{const g=new _t.SecretNetworkClient({url:o,chainId:""});B(g)},1e4);return()=>clearInterval(c)}),[k,b,d,p,()=>d(),()=>b(),()=>p(),()=>t(0,k=JSON.stringify(JSON.parse('{"status": "Not yet implemented"}'),null,2)),()=>t(0,k=JSON.stringify(JSON.parse('{"status": "Not yet implemented"}'),null,2))]}class Lt extends Z{constructor(e){super(),x(this,e,St,Ot,$,{})}}export{Lt as default};
