import{S as Y,i as Z,s as x,e as U,b as w,W as K,h as v,$ as M,Q as tt,K as Q,L as W,k as S,q as L,a as A,l as O,m as T,r as q,c as F,n as p,F as f,N as H,a0 as et,u as R,_ as at,O as $,a6 as ot,a7 as nt,y as lt,z as st,A as ct,g as rt,d as it,B as ut,o as dt}from"../chunks/index.86962765.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.3abe5e1b.js";import{s as ft,A as P}from"../chunks/contracts.d6840322.js";import{c as mt}from"../chunks/clipboard.408a5421.js";import{e as ht,b as bt}from"../chunks/stores.2a7a0fd6.js";import{b as _t}from"../chunks/browser.f1978947.js";function G(n){let e,t,a,l=X(n[0])+"",E,m,u,y=(n[7]?n[4]:n[3])+"",h,N,B,g,C,s,b,c,r,_;function i(d,k){return d[5]?kt:gt}let I=i(n),o=I(n);return{c(){e=S("div"),t=S("header"),a=S("span"),E=L(l),m=A(),u=S("button"),h=L(y),g=A(),C=S("pre"),s=S("code"),o.c(),this.h()},l(d){e=O(d,"DIV",{class:!0,"data-testid":!0});var k=T(e);t=O(k,"HEADER",{class:!0});var D=T(t);a=O(D,"SPAN",{class:!0});var J=T(a);E=q(J,l),J.forEach(v),m=F(D),u=O(D,"BUTTON",{class:!0});var j=T(u);h=q(j,y),j.forEach(v),D.forEach(v),g=F(k),C=O(k,"PRE",{class:!0});var V=T(C);s=O(V,"CODE",{class:!0});var z=T(s);o.l(z),z.forEach(v),V.forEach(v),k.forEach(v),this.h()},h(){p(a,"class","code-block-language"),p(u,"class",N="code-block-btn "+n[2]),p(t,"class","code-block-header "+vt),p(s,"class",b="code-block-code language-"+n[0]),p(C,"class","code-block-pre "+Et),p(e,"class",c="code-block "+n[8]),p(e,"data-testid","code-block")},m(d,k){w(d,e,k),f(e,t),f(t,a),f(a,E),f(t,m),f(t,u),f(u,h),f(e,g),f(e,C),f(C,s),o.m(s,null),r||(_=[H(u,"click",n[9]),et(B=mt.call(null,u,n[1]))],r=!0)},p(d,k){k&1&&l!==(l=X(d[0])+"")&&R(E,l),k&152&&y!==(y=(d[7]?d[4]:d[3])+"")&&R(h,y),k&4&&N!==(N="code-block-btn "+d[2])&&p(u,"class",N),B&&at(B.update)&&k&2&&B.update.call(null,d[1]),I===(I=i(d))&&o?o.p(d,k):(o.d(1),o=I(d),o&&(o.c(),o.m(s,null))),k&1&&b!==(b="code-block-code language-"+d[0])&&p(s,"class",b),k&256&&c!==(c="code-block "+d[8])&&p(e,"class",c)},d(d){d&&v(e),o.d(),r=!1,$(_)}}}function gt(n){let e=n[1].trim()+"",t;return{c(){t=L(e)},l(a){t=q(a,e)},m(a,l){w(a,t,l)},p(a,l){l&2&&e!==(e=a[1].trim()+"")&&R(t,e)},d(a){a&&v(t)}}}function kt(n){let e,t;return{c(){e=new ot(!1),t=U(),this.h()},l(a){e=nt(a,!1),t=U(),this.h()},h(){e.a=t},m(a,l){e.m(n[6],a,l),w(a,t,l)},p(a,l){l&64&&e.p(a[6])},d(a){a&&v(t),a&&e.d()}}}function yt(n){let e,t=n[0]&&n[1]&&G(n);return{c(){t&&t.c(),e=U()},l(a){t&&t.l(a),e=U()},m(a,l){t&&t.m(a,l),w(a,e,l)},p(a,[l]){a[0]&&a[1]?t?t.p(a,l):(t=G(a),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:K,o:K,d(a){t&&t.d(a),a&&v(e)}}}const Ct="overflow-hidden shadow",vt="text-xs text-white/50 uppercase flex justify-between items-center p-2 pl-4",Et="whitespace-pre-wrap break-all p-4 pt-1";function X(n){return n==="js"?"javascript":n==="ts"?"typescript":n}function pt(n,e,t){let a,l;M(n,ft,o=>t(16,l=o));const E=tt();let{language:m="plaintext"}=e,{code:u=""}=e,{background:y="bg-neutral-900/90"}=e,{blur:h=""}=e,{text:N="text-sm"}=e,{color:B="text-white"}=e,{rounded:g="rounded-container-token"}=e,{shadow:C="shadow"}=e,{button:s="btn btn-sm variant-soft !text-white"}=e,{buttonLabel:b="Copy"}=e,{buttonCopied:c="ðŸ‘"}=e,r=!1,_=u,i=!1;function I(){t(7,i=!0),setTimeout(()=>{t(7,i=!1)},2e3),E("copy",{})}return n.$$set=o=>{t(18,e=Q(Q({},e),W(o))),"language"in o&&t(0,m=o.language),"code"in o&&t(1,u=o.code),"background"in o&&t(10,y=o.background),"blur"in o&&t(11,h=o.blur),"text"in o&&t(12,N=o.text),"color"in o&&t(13,B=o.color),"rounded"in o&&t(14,g=o.rounded),"shadow"in o&&t(15,C=o.shadow),"button"in o&&t(2,s=o.button),"buttonLabel"in o&&t(3,b=o.buttonLabel),"buttonCopied"in o&&t(4,c=o.buttonCopied)},n.$$.update=()=>{n.$$.dirty&65539&&l!==void 0&&(t(6,_=l.highlight(u,{language:m}).value.trim()),t(5,r=!0)),t(8,a=`${Ct} ${y} ${h} ${N} ${B} ${g} ${C} ${e.class??""}`)},e=W(e),[m,u,s,b,c,r,_,i,a,I,y,h,N,B,g,C,l]}class Nt extends Y{constructor(e){super(),Z(this,e,pt,yt,x,{language:0,code:1,background:10,blur:11,text:12,color:13,rounded:14,shadow:15,button:2,buttonLabel:3,buttonCopied:4})}}function Bt(n){let e,t,a,l,E,m,u,y,h,N,B,g,C,s,b;return g=new Nt({props:{language:"json",code:n[0]}}),{c(){e=S("div"),t=S("div"),a=S("button"),l=L("Latest Block Info"),E=A(),m=S("button"),u=L("Community Pool Funds"),y=A(),h=S("button"),N=L("Amber Contract Info"),B=A(),lt(g.$$.fragment),this.h()},l(c){e=O(c,"DIV",{class:!0});var r=T(e);t=O(r,"DIV",{class:!0});var _=T(t);a=O(_,"BUTTON",{class:!0});var i=T(a);l=q(i,"Latest Block Info"),i.forEach(v),E=F(_),m=O(_,"BUTTON",{class:!0});var I=T(m);u=q(I,"Community Pool Funds"),I.forEach(v),y=F(_),h=O(_,"BUTTON",{class:!0});var o=T(h);N=q(o,"Amber Contract Info"),o.forEach(v),_.forEach(v),B=F(r),st(g.$$.fragment,r),r.forEach(v),this.h()},h(){p(a,"class","btn variant-filled-secondary"),p(m,"class","btn variant-filled-secondary"),p(h,"class","btn variant-filled-secondary"),p(t,"class","card variant-glass-surface flex flex-col p-4 space-y-2 text-left"),p(e,"class","container h-full flex flex-col sm:flex-row gap-4 p-4 sm:items-start")},m(c,r){w(c,e,r),f(e,t),f(t,a),f(a,l),f(t,E),f(t,m),f(m,u),f(t,y),f(t,h),f(h,N),f(e,B),ct(g,e,null),C=!0,s||(b=[H(a,"click",n[4]),H(m,"click",n[5]),H(h,"click",n[6])],s=!0)},p(c,[r]){const _={};r&1&&(_.code=c[0]),g.$set(_)},i(c){C||(rt(g.$$.fragment,c),C=!0)},o(c){it(g.$$.fragment,c),C=!1},d(c){c&&v(e),ut(g),s=!1,$(b)}}}function It(n,e,t){let a,l;M(n,ht,s=>t(7,a=s)),M(n,bt,s=>t(8,l=s));let E;async function m(){const s=await l.query.distribution.communityPool({});t(0,E=JSON.stringify(s.pool,null,2))}async function u(){var s,b,c;try{const r=await l.query.tendermint.getLatestBlock({});console.log((b=(s=r.block)==null?void 0:s.header)==null?void 0:b.time),t(0,E=JSON.stringify((c=r.block)==null?void 0:c.header,null,2))}catch(r){console.error(r)}}async function y(){const s=await l.query.compute.contractInfo({contract_address:P.address}),b=await l.query.snip20.getSnip20Params({contract:{address:P.address,code_hash:P.code_hash}}),c=await l.query.snip20.queryContract({contract_address:P.address,code_hash:P.code_hash,query:{token_config:{}}});t(0,E=JSON.stringify(s,null,2)+`,
`+JSON.stringify(b,null,2)+`,
`+JSON.stringify(c,null,2))}const h=new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:6}).format,N=async(s,b)=>{var c,r,_;try{const{block:i}=await s.query.tendermint.getLatestBlock({});let I;try{({minimum_gas_price:I}=await s.query.node.config({}))}catch{}const o=(c=i==null?void 0:i.header)==null?void 0:c.chain_id,d=h(Number((r=i==null?void 0:i.header)==null?void 0:r.height));console.log(d);let k;I&&(k=I.replace(/0*([a-z]+)$/,"$1"));const D=Math.floor((Date.now()-Date.parse((_=i==null?void 0:i.header)==null?void 0:_.time))/1e3);let J=`${D}s ago`;D<=0&&(J="now")}catch(i){i instanceof Error?i.message:JSON.stringify(i)}};return dt(()=>{const s=setInterval(()=>{const b=new _t.SecretNetworkClient({url:a,chainId:""});N(b)},1e4);return()=>clearInterval(s)}),[E,m,u,y,()=>u(),()=>m(),()=>y()]}class Pt extends Y{constructor(e){super(),Z(this,e,It,Bt,x,{})}}export{Pt as default};
