import{k as z,n as D,a as L,f as P}from"../chunks/stores.12a44de9.js";import{S as x,i as G,s as H,e as A,b as p,g as V,Q as y,h as u,O as q,o as W,k as v,q as M,a as C,l as w,m as E,r as N,c as O,n as h,E as g,T as S,aa as B,af as J,ag as Q,Y as j,L as K,V as Y}from"../chunks/index.89050948.js";import{A as T}from"../chunks/contracts.0bc814d3.js";import{g as F,a as U}from"../chunks/keplr.b3c15f24.js";import"../chunks/index.292708ba.js";const X=()=>({}),be=Object.freeze(Object.defineProperty({__proto__:null,load:X},Symbol.toStringTag,{value:"Module"})),Z=""+new URL("../assets/amber-pope.19ff7030.webp",import.meta.url).href,$=""+new URL("../assets/ambernugget.806d9d89.webp",import.meta.url).href;function I(a){let e,t,s,l,i,r,o;function c(n,b){return n[3]?te:ee}let k=c(a),_=k(a);function f(n,b){if(n[1])return ne;if(n[2])return ae}let d=f(a),m=d&&d(a);return{c(){e=v("div"),t=v("h2"),s=M("OAC Member Code"),l=C(),_.c(),r=C(),m&&m.c(),o=A(),this.h()},l(n){e=w(n,"DIV",{class:!0});var b=E(e);t=w(b,"H2",{class:!0});var R=E(t);s=N(R,"OAC Member Code"),R.forEach(u),l=O(b),_.l(b),b.forEach(u),r=O(n),m&&m.l(n),o=A(),this.h()},h(){h(t,"class","text-center !text-3xl font-semibold"),h(e,"class","mx-auto flex h-full flex-col items-center justify-start space-y-8 p-4 first:pt-8 ")},m(n,b){p(n,e,b),g(e,t),g(t,s),g(e,l),_.m(e,null),p(n,r,b),m&&m.m(n,b),p(n,o,b)},p(n,b){k===(k=c(n))&&_?_.p(n,b):(_.d(1),_=k(n),_&&(_.c(),_.m(e,null))),d===(d=f(n))&&m?m.p(n,b):(m&&m.d(1),m=d&&d(n),m&&(m.c(),V(m,1),m.m(o.parentNode,o)))},i(n){i||S(()=>{i=B(e,L,{duration:500}),i.start()}),V(m)},o:y,d(n){n&&u(e),_.d(),n&&u(r),m&&m.d(n),n&&u(o)}}}function ee(a){let e,t;return{c(){e=v("p"),t=M("connect a wallet"),this.h()},l(s){e=w(s,"P",{class:!0});var l=E(e);t=N(l,"connect a wallet"),l.forEach(u),this.h()},h(){h(e,"class","font-mono font-bold text-secondary-800 dark:text-primary-600")},m(s,l){p(s,e,l),g(e,t)},p:y,d(s){s&&u(e)}}}function te(a){let e,t={ctx:a,current:null,token:null,hasCatch:!0,pending:oe,then:re,catch:se,value:8,error:9};return J(a[4](),t),{c(){e=A(),t.block.c()},l(s){e=A(),t.block.l(s)},m(s,l){p(s,e,l),t.block.m(s,t.anchor=l),t.mount=()=>e.parentNode,t.anchor=e},p(s,l){a=s,Q(t,a,l)},d(s){s&&u(e),t.block.d(s),t.token=null,t=null}}}function se(a){let e,t=a[9]+"",s,l,i,r,o,c,k,_=a[9]==="No viewing key for AMBER"&&le(a);return{c(){e=v("p"),s=M(t),l=C(),_&&_.c(),i=C(),r=v("button"),o=M("Retry"),this.h()},l(f){e=w(f,"P",{class:!0});var d=E(e);s=N(d,t),d.forEach(u),l=O(f),_&&_.l(f),i=O(f),r=w(f,"BUTTON",{class:!0});var m=E(r);o=N(m,"Retry"),m.forEach(u),this.h()},h(){h(e,"class","max-w-lg text-center font-mono font-bold text-secondary-800 dark:text-primary-600"),h(r,"class","btn variant-ghost-secondary w-48")},m(f,d){p(f,e,d),g(e,s),p(f,l,d),_&&_.m(f,d),p(f,i,d),p(f,r,d),g(r,o),c||(k=K(r,"click",a[4]),c=!0)},p(f,d){f[9]==="No viewing key for AMBER"&&_.p(f,d)},d(f){f&&u(e),f&&u(l),_&&_.d(f),f&&u(i),f&&u(r),c=!1,k()}}}function le(a){let e,t,s,l;return{c(){e=v("button"),t=M("Set Viewing Key"),this.h()},l(i){e=w(i,"BUTTON",{class:!0});var r=E(e);t=N(r,"Set Viewing Key"),r.forEach(u),this.h()},h(){h(e,"class","btn variant-ghost-primary w-48")},m(i,r){p(i,e,r),g(e,t),s||(l=K(e,"click",a[6]),s=!0)},p:y,d(i){i&&u(e),s=!1,l()}}}function re(a){let e,t=a[8]+"",s,l,i,r=a[8]==="Wrong viewing key for this address or viewing key not set"&&ie(a);return{c(){e=v("h2"),s=M(t),l=C(),r&&r.c(),i=A(),this.h()},l(o){e=w(o,"H2",{class:!0});var c=E(e);s=N(c,t),c.forEach(u),l=O(o),r&&r.l(o),i=A(),this.h()},h(){h(e,"class","text-center !text-4xl font-semibold")},m(o,c){p(o,e,c),g(e,s),p(o,l,c),r&&r.m(o,c),p(o,i,c)},p(o,c){o[8]==="Wrong viewing key for this address or viewing key not set"&&r.p(o,c)},d(o){o&&u(e),o&&u(l),r&&r.d(o),o&&u(i)}}}function ie(a){let e,t,s,l,i,r,o;return{c(){e=v("button"),t=M("Set Viewing Key"),s=C(),l=v("button"),i=M("Retry"),this.h()},l(c){e=w(c,"BUTTON",{class:!0});var k=E(e);t=N(k,"Set Viewing Key"),k.forEach(u),s=O(c),l=w(c,"BUTTON",{class:!0});var _=E(l);i=N(_,"Retry"),_.forEach(u),this.h()},h(){h(e,"class","btn variant-ghost-primary w-48"),h(l,"class","btn variant-ghost-secondary w-48")},m(c,k){p(c,e,k),g(e,t),p(c,s,k),p(c,l,k),g(l,i),r||(o=[K(e,"click",a[5]),K(l,"click",a[4])],r=!0)},p:y,d(c){c&&u(e),c&&u(s),c&&u(l),r=!1,Y(o)}}}function oe(a){return{c:y,l:y,m:y,p:y,d:y}}function ae(a){let e,t,s,l;return{c(){e=v("div"),t=v("img"),this.h()},l(i){e=w(i,"DIV",{class:!0});var r=E(e);t=w(r,"IMG",{class:!0,src:!0,alt:!0}),r.forEach(u),this.h()},h(){h(t,"class","brightness-85"),j(t.src,s=$)||h(t,"src",s),h(t,"alt","amber_nugget"),h(e,"class","absolute bottom-0 w-full sm:max-w-sm sm:right-0 sm:mr-8 -z-50")},m(i,r){p(i,e,r),g(e,t)},p:y,i(i){l||S(()=>{l=B(e,P,{y:400,duration:4e3}),l.start()})},o:y,d(i){i&&u(e)}}}function ne(a){let e,t,s,l;return{c(){e=v("div"),t=v("img"),this.h()},l(i){e=w(i,"DIV",{class:!0});var r=E(e);t=w(r,"IMG",{class:!0,src:!0,alt:!0}),r.forEach(u),this.h()},h(){h(t,"class","brightness-85"),j(t.src,s=Z)||h(t,"src",s),h(t,"alt","amber_pope"),h(e,"class","absolute bottom-0 sm:max-w-md sm:left-0 sm:ml-8 -z-50")},m(i,r){p(i,e,r),g(e,t)},p:y,i(i){l||S(()=>{l=B(e,P,{y:400,duration:4e3}),l.start()})},o:y,d(i){i&&u(e)}}}function ce(a){let e,t=a[0]&&I(a);return{c(){t&&t.c(),e=A()},l(s){t&&t.l(s),e=A()},m(s,l){t&&t.m(s,l),p(s,e,l)},p(s,[l]){s[0]?t?(t.p(s,l),l&1&&V(t,1)):(t=I(s),t.c(),V(t,1),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i(s){V(t)},o:y,d(s){t&&t.d(s),s&&u(e)}}}function fe(a,e,t){let s,l;q(a,z,f=>t(7,s=f)),q(a,D,f=>t(3,l=f));let i=!1,r=!1,o=!1;W(()=>t(0,i=!0));async function c(){var d,m;t(1,r=!1),t(2,o=!1);const f=await F(T.address);if(f===null)throw t(2,o=!0),"No viewing key for AMBER";try{const n=await s.query.compute.queryContract({contract_address:T.address,code_hash:T.code_hash,query:{member_code:{address:s.address,key:f}}}),b=(d=n.member_code)==null?void 0:d.code,R=(m=n.viewing_key_error)==null?void 0:m.msg;return R?(t(2,o=!0),R):b?(t(1,r=!0),b):(t(2,o=!0),JSON.stringify(n))}catch(n){throw t(2,o=!0),n.message}}return[i,r,o,l,c,()=>U(T.address),()=>U(T.address)]}class he extends x{constructor(e){super(),G(this,e,fe,ce,H,{})}}export{he as component,be as universal};
