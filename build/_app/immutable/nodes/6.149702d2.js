import{d as F}from"../chunks/environment.9aa685ef.js";import{S as J,i as L,s as P,k as w,a as R,l as S,m as x,h,c as q,n as C,b as E,D as k,d as y,f as O,g as b,Y as $,aq as Y,U as D,q as G,r as H,M as K,y as B,z as M,A as V,ac as z,B as U,v as T,W as Q}from"../chunks/index.13f60c6c.js";import{i as X,f as W}from"../chunks/ProgressBar.svelte_svelte_type_style_lang.6c5a6801.js";import{C as Z}from"../chunks/CodeBlock.f3f29600.js";import{s as ee,d as te,b as re}from"../chunks/stores.a12d4e88.js";import{S as se}from"../chunks/SecretSpinner.2902106f.js";const ae=F,ne=!0,_e=Object.freeze(Object.defineProperty({__proto__:null,csr:ae,prerender:ne},Symbol.toStringTag,{value:"Module"}));function j(c,e,r){const s=c.slice();return s[9]=e[r],s}function A(c){let e,r=c[9].name+"",s,n,o,f;function _(){return c[3](c[9])}return{c(){e=w("button"),s=G(r),n=R(),this.h()},l(u){e=S(u,"BUTTON",{class:!0});var m=x(e);s=H(m,r),n=q(m),m.forEach(h),this.h()},h(){C(e,"class","variant-ghost-secondary material-color-transition btn min-w-fit flex-auto text-sm font-bold")},m(u,m){E(u,e,m),k(e,s),k(e,n),o||(f=K(e,"click",_),o=!0)},p(u,m){c=u},d(u){u&&h(e),o=!1,f()}}}function I(c){let e,r,s,n;return r=new Z({props:{language:"json",code:c[1]}}),{c(){e=w("span"),B(r.$$.fragment)},l(o){e=S(o,"SPAN",{});var f=x(e);M(r.$$.fragment,f),f.forEach(h)},m(o,f){E(o,e,f),V(r,e,null),n=!0},p(o,f){const _={};f&2&&(_.code=o[1]),r.$set(_)},i(o){n||(b(r.$$.fragment,o),s||$(()=>{s=z(e,W,{y:200,duration:700,delay:200}),s.start()}),n=!0)},o(o){y(r.$$.fragment,o),n=!1},d(o){o&&h(e),U(r)}}}function N(c){let e,r;return e=new se({}),{c(){B(e.$$.fragment)},l(s){M(e.$$.fragment,s)},m(s,n){V(e,s,n),r=!0},i(s){r||(b(e.$$.fragment,s),r=!0)},o(s){y(e.$$.fragment,s),r=!1},d(s){U(e,s)}}}function oe(c){let e,r,s,n,o=c[1],f,_,u,m=c[2],i=[];for(let a=0;a<m.length;a+=1)i[a]=A(j(c,m,a));let g=I(c),t=c[0]&&N();return{c(){e=w("div"),r=w("div");for(let a=0;a<i.length;a+=1)i[a].c();s=R(),n=w("div"),g.c(),f=R(),t&&t.c(),this.h()},l(a){e=S(a,"DIV",{class:!0});var d=x(e);r=S(d,"DIV",{class:!0});var l=x(r);for(let v=0;v<i.length;v+=1)i[v].l(l);l.forEach(h),s=q(d),n=S(d,"DIV",{class:!0});var p=x(n);g.l(p),p.forEach(h),f=q(d),t&&t.l(d),d.forEach(h),this.h()},h(){C(r,"class","card flex h-full flex-wrap gap-2 bg-surface-50 p-4 dark:bg-[#28292a] lg:flex-col"),C(n,"class","flex justify-center"),C(e,"class","flex flex-col gap-4 px-2 py-4 pb-12 sm:p-6 md:flex-row md:flex-wrap")},m(a,d){E(a,e,d),k(e,r);for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(r,null);k(e,s),k(e,n),g.m(n,null),k(e,f),t&&t.m(e,null),u=!0},p(a,[d]){if(d&4){m=a[2];let l;for(l=0;l<m.length;l+=1){const p=j(a,m,l);i[l]?i[l].p(p,d):(i[l]=A(p),i[l].c(),i[l].m(r,null))}for(;l<i.length;l+=1)i[l].d(1);i.length=m.length}d&2&&P(o,o=a[1])?(T(),y(g,1,1,Q),O(),g=I(a),g.c(),b(g,1),g.m(n,null)):g.p(a,d),a[0]?t?d&1&&b(t,1):(t=N(),t.c(),b(t,1),t.m(e,null)):t&&(T(),y(t,1,1,()=>{t=null}),O())},i(a){u||(b(g),b(t),_||$(()=>{_=z(e,W,{y:200,duration:700}),_.start()}),u=!0)},o(a){y(g),y(t),u=!1},d(a){a&&h(e),Y(i,a),g.d(a),t&&t.d()}}}function le(c,e,r){let s,n,o;D(c,ee,t=>r(4,s=t)),D(c,te,t=>r(5,n=t)),D(c,re,t=>r(6,o=t));let f=[{fn:m,name:"Check Staking Rewards"},{fn:i,name:"Claim Staking Rewards"}],_=!1,u;async function m(){r(0,_=!0);try{const t=await n.query.distribution.delegationTotalRewards({delegator_address:o});r(1,u=JSON.stringify(t,null,2))}catch(t){console.error(t)}r(0,_=!1)}async function i(){r(0,_=!0);try{const{rewards:t}=await n.query.distribution.delegationTotalRewards({delegator_address:s.address});console.log(t),t||alert("No rewards found.");const a=t.map(p=>p.validator_address);console.log(a);const d=[];for(const p of a){const v=new X.MsgWithdrawDelegatorReward({delegator_address:s.address,validator_address:p});d.push(v)}console.log(d);const l=await s.tx.broadcast(d,{gasLimit:4e4*a.length,gasPriceInFeeDenom:.0125,feeDenom:"uscrt"})}catch(t){console.error(t)}r(0,_=!1)}return[_,u,f,t=>t.fn()]}class ge extends J{constructor(e){super(),L(this,e,le,oe,P,{})}}export{ge as component,_e as universal};
