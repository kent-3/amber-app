import{S as F,i as J,s as B,k as v,a as R,l as x,m as C,h,c as q,n as S,b as E,D as k,d as w,f as A,g as b,Y as P,aq as L,U as D,q as Y,r as G,M as H,y as V,z as j,A as M,ac as U,B as W,v as I,W as K}from"../chunks/index.13f60c6c.js";import{i as Q,f as z}from"../chunks/ProgressBar.svelte_svelte_type_style_lang.6c5a6801.js";import{C as X}from"../chunks/CodeBlock.f3f29600.js";import{s as Z,f as ee,b as te}from"../chunks/stores.144ce0e1.js";import{S as re}from"../chunks/SecretSpinner.2902106f.js";function N(c,e,r){const s=c.slice();return s[9]=e[r],s}function O(c){let e,r=c[9].name+"",s,n,l,d;function _(){return c[3](c[9])}return{c(){e=v("button"),s=Y(r),n=R(),this.h()},l(u){e=x(u,"BUTTON",{class:!0});var m=C(e);s=G(m,r),n=q(m),m.forEach(h),this.h()},h(){S(e,"class","variant-ghost-secondary material-color-transition btn min-w-fit flex-auto text-sm font-bold")},m(u,m){E(u,e,m),k(e,s),k(e,n),l||(d=H(e,"click",_),l=!0)},p(u,m){c=u},d(u){u&&h(e),l=!1,d()}}}function T(c){let e,r,s,n;return r=new X({props:{language:"json",code:c[1]}}),{c(){e=v("span"),V(r.$$.fragment)},l(l){e=x(l,"SPAN",{});var d=C(e);j(r.$$.fragment,d),d.forEach(h)},m(l,d){E(l,e,d),M(r,e,null),n=!0},p(l,d){const _={};d&2&&(_.code=l[1]),r.$set(_)},i(l){n||(b(r.$$.fragment,l),s||P(()=>{s=U(e,z,{y:200,duration:700,delay:200}),s.start()}),n=!0)},o(l){w(r.$$.fragment,l),n=!1},d(l){l&&h(e),W(r)}}}function $(c){let e,r;return e=new re({}),{c(){V(e.$$.fragment)},l(s){j(e.$$.fragment,s)},m(s,n){M(e,s,n),r=!0},i(s){r||(b(e.$$.fragment,s),r=!0)},o(s){w(e.$$.fragment,s),r=!1},d(s){W(e,s)}}}function se(c){let e,r,s,n,l=c[1],d,_,u,m=c[2],i=[];for(let a=0;a<m.length;a+=1)i[a]=O(N(c,m,a));let g=T(c),t=c[0]&&$();return{c(){e=v("div"),r=v("div");for(let a=0;a<i.length;a+=1)i[a].c();s=R(),n=v("div"),g.c(),d=R(),t&&t.c(),this.h()},l(a){e=x(a,"DIV",{class:!0});var f=C(e);r=x(f,"DIV",{class:!0});var o=C(r);for(let y=0;y<i.length;y+=1)i[y].l(o);o.forEach(h),s=q(f),n=x(f,"DIV",{class:!0});var p=C(n);g.l(p),p.forEach(h),d=q(f),t&&t.l(f),f.forEach(h),this.h()},h(){S(r,"class","card flex h-full flex-wrap gap-2 bg-surface-50 p-4 dark:bg-[#28292a] lg:flex-col"),S(n,"class","flex justify-center"),S(e,"class","flex flex-col gap-4 px-2 py-4 pb-12 sm:p-6 md:flex-row md:flex-wrap")},m(a,f){E(a,e,f),k(e,r);for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(r,null);k(e,s),k(e,n),g.m(n,null),k(e,d),t&&t.m(e,null),u=!0},p(a,[f]){if(f&4){m=a[2];let o;for(o=0;o<m.length;o+=1){const p=N(a,m,o);i[o]?i[o].p(p,f):(i[o]=O(p),i[o].c(),i[o].m(r,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=m.length}f&2&&B(l,l=a[1])?(I(),w(g,1,1,K),A(),g=T(a),g.c(),b(g,1),g.m(n,null)):g.p(a,f),a[0]?t?f&1&&b(t,1):(t=$(),t.c(),b(t,1),t.m(e,null)):t&&(I(),w(t,1,1,()=>{t=null}),A())},i(a){u||(b(g),b(t),_||P(()=>{_=U(e,z,{y:200,duration:700}),_.start()}),u=!0)},o(a){w(g),w(t),u=!1},d(a){a&&h(e),L(i,a),g.d(a),t&&t.d()}}}function ae(c,e,r){let s,n,l;D(c,Z,t=>r(4,s=t)),D(c,ee,t=>r(5,n=t)),D(c,te,t=>r(6,l=t));let d=[{fn:m,name:"Check Staking Rewards"},{fn:i,name:"Claim Staking Rewards"}],_=!1,u;async function m(){r(0,_=!0);try{const t=await n.query.distribution.delegationTotalRewards({delegator_address:l});r(1,u=JSON.stringify(t,null,2))}catch(t){console.error(t)}r(0,_=!1)}async function i(){r(0,_=!0);try{const{rewards:t}=await n.query.distribution.delegationTotalRewards({delegator_address:s.address});console.log(t),t||alert("No rewards found.");const a=t.map(p=>p.validator_address);console.log(a);const f=[];for(const p of a){const y=new Q.MsgWithdrawDelegatorReward({delegator_address:s.address,validator_address:p});f.push(y)}console.log(f);const o=await s.tx.broadcast(f,{gasLimit:4e4*a.length,gasPriceInFeeDenom:.0125,feeDenom:"uscrt"})}catch(t){console.error(t)}r(0,_=!1)}return[_,u,d,t=>t.fn()]}class fe extends F{constructor(e){super(),J(this,e,ae,se,B,{})}}export{fe as component};
