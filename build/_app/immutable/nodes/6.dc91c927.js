import{S as M,i as Q,s as j,k as v,a as R,l as x,m as C,h,c as D,n as S,b as q,E as k,d as w,f as O,g as b,T as B,am as U,O as E,q as W,r as G,L as H,y as P,z as V,A as L,aa as z,B as F,v as T,Q as K}from"../chunks/index.89050948.js";import{k as X,t as Y,j as Z,p as ee,f as J}from"../chunks/stores.12a44de9.js";import{C as te,S as re}from"../chunks/SecretSpinner.0485032f.js";function A(c,e,r){const a=c.slice();return a[9]=e[r],a}function I(c){let e,r=c[9].name+"",a,n,l,d;function _(){return c[3](c[9])}return{c(){e=v("button"),a=W(r),n=R(),this.h()},l(u){e=x(u,"BUTTON",{class:!0});var m=C(e);a=G(m,r),n=D(m),m.forEach(h),this.h()},h(){S(e,"class","variant-ghost-secondary material-color-transition btn min-w-fit flex-auto text-sm font-bold")},m(u,m){q(u,e,m),k(e,a),k(e,n),l||(d=H(e,"click",_),l=!0)},p(u,m){c=u},d(u){u&&h(e),l=!1,d()}}}function N(c){let e,r,a,n;return r=new te({props:{language:"json",code:c[1]}}),{c(){e=v("span"),P(r.$$.fragment)},l(l){e=x(l,"SPAN",{});var d=C(e);V(r.$$.fragment,d),d.forEach(h)},m(l,d){q(l,e,d),L(r,e,null),n=!0},p(l,d){const _={};d&2&&(_.code=l[1]),r.$set(_)},i(l){n||(b(r.$$.fragment,l),a||B(()=>{a=z(e,J,{y:200,duration:700,delay:200}),a.start()}),n=!0)},o(l){w(r.$$.fragment,l),n=!1},d(l){l&&h(e),F(r)}}}function $(c){let e,r;return e=new re({}),{c(){P(e.$$.fragment)},l(a){V(e.$$.fragment,a)},m(a,n){L(e,a,n),r=!0},i(a){r||(b(e.$$.fragment,a),r=!0)},o(a){w(e.$$.fragment,a),r=!1},d(a){F(e,a)}}}function ae(c){let e,r,a,n,l=c[1],d,_,u,m=c[2],i=[];for(let s=0;s<m.length;s+=1)i[s]=I(A(c,m,s));let g=N(c),t=c[0]&&$();return{c(){e=v("div"),r=v("div");for(let s=0;s<i.length;s+=1)i[s].c();a=R(),n=v("div"),g.c(),d=R(),t&&t.c(),this.h()},l(s){e=x(s,"DIV",{class:!0});var f=C(e);r=x(f,"DIV",{class:!0});var o=C(r);for(let y=0;y<i.length;y+=1)i[y].l(o);o.forEach(h),a=D(f),n=x(f,"DIV",{class:!0});var p=C(n);g.l(p),p.forEach(h),d=D(f),t&&t.l(f),f.forEach(h),this.h()},h(){S(r,"class","card flex h-full flex-wrap gap-2 bg-surface-50 p-4 dark:bg-[#28292a] lg:flex-col"),S(n,"class","flex justify-center"),S(e,"class","flex flex-col gap-4 px-2 py-4 pb-12 sm:p-6 md:flex-row md:flex-wrap")},m(s,f){q(s,e,f),k(e,r);for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(r,null);k(e,a),k(e,n),g.m(n,null),k(e,d),t&&t.m(e,null),u=!0},p(s,[f]){if(f&4){m=s[2];let o;for(o=0;o<m.length;o+=1){const p=A(s,m,o);i[o]?i[o].p(p,f):(i[o]=I(p),i[o].c(),i[o].m(r,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=m.length}f&2&&j(l,l=s[1])?(T(),w(g,1,1,K),O(),g=N(s),g.c(),b(g,1),g.m(n,null)):g.p(s,f),s[0]?t?f&1&&b(t,1):(t=$(),t.c(),b(t,1),t.m(e,null)):t&&(T(),w(t,1,1,()=>{t=null}),O())},i(s){u||(b(g),b(t),_||B(()=>{_=z(e,J,{y:200,duration:700}),_.start()}),u=!0)},o(s){w(g),w(t),u=!1},d(s){s&&h(e),U(i,s),g.d(s),t&&t.d()}}}function se(c,e,r){let a,n,l;E(c,X,t=>r(4,a=t)),E(c,Y,t=>r(5,n=t)),E(c,Z,t=>r(6,l=t));let d=[{fn:m,name:"Check Staking Rewards"},{fn:i,name:"Claim Staking Rewards"}],_=!1,u;async function m(){r(0,_=!0);try{const t=await n.query.distribution.delegationTotalRewards({delegator_address:l});r(1,u=JSON.stringify(t,null,2))}catch(t){console.error(t)}r(0,_=!1)}async function i(){r(0,_=!0);try{const{rewards:t}=await n.query.distribution.delegationTotalRewards({delegator_address:a.address});console.log(t),t||alert("No rewards found.");const s=t.map(p=>p.validator_address);console.log(s);const f=[];for(const p of s){const y=new ee.MsgWithdrawDelegatorReward({delegator_address:a.address,validator_address:p});f.push(y)}console.log(f);const o=await a.tx.broadcast(f,{gasLimit:4e4*s.length,gasPriceInFeeDenom:.0125,feeDenom:"uscrt"})}catch(t){console.error(t)}r(0,_=!1)}return[_,u,d,t=>t.fn()]}class ce extends M{constructor(e){super(),Q(this,e,se,ae,j,{})}}export{ce as component};
